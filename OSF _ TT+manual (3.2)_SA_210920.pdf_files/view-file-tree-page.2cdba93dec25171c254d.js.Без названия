webpackJsonp([50],{811:function(e,t,a){"use strict";var n=a(0),o=a(812),i=window.contextVars.node.urls.api;n(document).ready(function(){n.ajax({url:i+"files/grid/"}).done(function(e){new o(e),n("#sharebutton").removeClass("disabled")});var e=n(".panel-toggle"),t=n(".panel-expand"),a=e.find(".osf-panel-hide"),r=e.find(".osf-panel-show");n(".osf-panel-show .tb-header-row").on("click",function(){e.removeClass("col-sm-1").addClass("col-sm-3"),t.removeClass("col-sm-11").addClass("col-sm-9"),a.show(),r.hide()}),n(".osf-project-navbar li#projectNavFiles").addClass("active")})},812:function(e,t,a){function n(e){var t=e.data[0].children;if("github"===window.contextVars.file.provider||"bitbucket"===window.contextVars.file.provider||"gitlab"===window.contextVars.file.provider)for(var a=0;a<t.length;a++){var n=t[a];("github"===n.provider||"bitbucket"===n.provider||"gitlab"===n.provider)&&n.isAddonRoot&&window.contextVars.file.extra.branch&&(n.branch=window.contextVars.file.extra.branch)}var l={divID:"grid",filesData:e.data,uploads:!1,showFilter:!1,title:void 0,hideColumnTitles:!0,multiselect:!0,placement:"fileview",allowMove:!1,filterTemplate:function(){var e=this;return i('input.pull-left.form-control[placeholder="'+e.options.filterPlaceholder+'"][type="text"]',{style:"width:100%;display:inline;",onkeyup:e.filter,value:e.filterText()})},xhrconfig:r.setXHRAuthorization,onload:function(e){var t=this;o.DefaultOptions.onload.call(t,e)},ondataload:function(){var e=this;o.DefaultOptions.ondataload.call(e);e.fangornFolderIndex=0,e.fangornFolderArray=[""],window.contextVars.file.path&&(e.fangornFolderArray=window.contextVars.file.materializedPath.split("/"),e.fangornFolderArray.length>1&&e.fangornFolderArray.splice(0,1))},columnTitles:function(){return[{title:"Name",width:"100%"}]},lazyLoadOnLoad:function(e,t){var a=this;o.DefaultOptions.lazyLoadOnLoad.call(a,e,t),o.Utils.setCurrentFileID.call(a,e,window.contextVars.node.id,window.contextVars.file),!t&&a.isMultiselected(a.currentFileID)&&o.Utils.scrollToFile.call(a,a.currentFileID),e.depth>1&&o.Utils.orderFolder.call(this,e);for(var n=0;n<e.children.length;n++){var i=e.children[n];"file"===i.data.kind&&a.currentFileID===i.id&&(i.css="fangorn-selected",a.multiselected([i]))}},resolveRows:function(e){var t=this;e.parent().parent();t.isMultiselected(e.id)?e.css="fangorn-selected":e.css="",e.data.permissions&&!e.data.permissions.view&&(e.css+=" tb-private-row");var a=[{data:"name",folderIcons:!0,filter:!0,custom:o.DefaultColumns._fangornTitleColumn}];return e.parentID&&(e.data.permissions=e.data.permissions||e.parent().data.permissions,"folder"===e.data.kind&&(e.data.accept=e.data.accept||e.parent().data.accept)),e.data.tmpID&&(a=[{data:"name",folderIcons:!0,filter:!0,custom:function(){return i("span.text-muted","Uploading "+e.data.name+"...")}}]),o.Utils.resolveconfigOption.call(this,e,"resolveRows",[e])||a}};new o(l)}var o=a(20).Fangorn,i=a(4),r=a(1);e.exports=n}},[811]);
//# sourceMappingURL=view-file-tree-page.2cdba93dec25171c254d.js.map